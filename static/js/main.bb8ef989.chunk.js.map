{"version":3,"sources":["components/footer/image/Calculator.png","components/footer/image/Chrome.png","components/footer/image/Drawing.png","components/footer/image/Finder.png","components/footer/image/Launchpad.png","components/footer/image/PrefApp.png","components/footer/image/Terminal.png","components/modal/Modal.tsx","components/modal/UseModal.tsx","components/iconfont/index.tsx","components/setting/Setting.tsx","components/calculator/Calculator.tsx","components/calculator/index.tsx","components/drawing/Canvas.tsx","components/dialog/index.tsx","components/drawing/index.tsx","components/footer/reducer.ts","components/footer/Footer.tsx","components/header/Header.tsx","App.tsx","serviceWorker.ts","index.tsx","components/footer/image sync /^/.//.*$"],"names":["module","exports","Modal","React","memo","children","onDrag","closeModal","onDragEnd","data","domEl","document","getElementById","dragEl","id","moveEl","moveId","localPosition","localStorage","getItem","initPosition","JSON","parse","x","width","window","innerWidth","y","height","innerHeight","useState","isDragging","origin","position","state","setState","handleMouseDown","useCallback","clientX","clientY","handleMouseMove","target","offsetWidth","offsetHeight","newPosition","handleMouseUp","useEffect","addEventListener","removeEventListener","setItem","stringify","styles","useMemo","left","top","zIndex","ReactDOM","createPortal","style","onMouseDown","useModal","isVisible","setIsVisible","hide","show","RenderModal","Fragment","console","log","scriptElem","createElement","src","body","appendChild","Iconfont","className","type","svgRef","clickEvent","ref","aria-hidden","onClick","xlinkHref","Setting","useContext","FooterContext","isSettingShow","setSettingShow","setPosition","length","setLength","optionsMap","title","value","selected","setTitle","controls","inset","isFullscreen","onCloseClick","onMinimizeClick","onMaximizeClick","map","item","index","key","background","padding","marginRight","color","size","bold","marginBottom","min","max","onChange","e","name","paddingRight","label","defaultValue","defaultChecked","Calculate","n1","n2","N1N2","setN1OrN2","operator","setOperator","result","setResult","getNumber","text","getN1N2","removeZero","parseFloat","toPrecision","test","replace","getResult","numberN1","numberN2","result1","clickButton","event","HTMLButtonElement","buttonText","textContent","indexOf","includes","Calculator","isCalculatorShow","setCalculatorShow","transparent","Canvas","canvasRef","useRef","backRef","goRef","strokeStyle","setStrokeStyle","lineWidth","setLineWidth","eraserEnabled","setEraserEnabled","isPainting","setIsPainting","undefined","mousePosition","setMousePosition","step","setStep","canvasHistory","setCanvasHistory","getCoordinates","current","offsetX","offsetY","saveFragment","canvas","push","toDataURL","back","go","classList","add","remove","startPaint","coordinates","drawLine","originalMousePosition","newMousePosition","context","getContext","lineJoin","beginPath","moveTo","lineTo","closePath","stroke","clearRect","paint","exitPaint","leaveCanvas","isToolboxShow","setToolboxShow","toolboxShowClick","onToolsClick","toolName","el","currentTarget","parentNode","childNodes","forEach","matches","onSizesChange","onColorsClick","selector","onColorsChange","showDialog","hideDialog","RenderDialog","message","imgSrc","onCheck","onClose","borderRadius","icon","require","alt","renderIcon","buttons","useDialog","isClearDialogShow","setClearDialogShow","saveCanvas","compositeOperation","globalCompositeOperation","fillStyle","fillRect","imageData","putImageData","getImageData","a","href","download","click","changeCanvas","currentStep","canvasPic","Image","drawImage","onOptionsClick","closeClearDialog","checkClearDialog","fontSize","CSSTransition","in","timeout","classNames","unmountOnExit","option","tool","backgroundColor","defaultProps","Drawing","isDrawingShow","setDrawingShow","positionReducer","action","lengthReducer","createContext","Footer","dockList","useReducer","Chrome","setChrome","dockStyle","setDockStyle","dockRef","getOffset","offset","elOffset","offsetTop","offsetLeft","offsetParent","mousemove","imgList","dockBackgroundLength","i","img","imgScale","Math","sqrt","mouseleave","dockBackground","Provider","close","chrome","open","dockItemClick","Header","App","Boolean","location","hostname","match","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve"],"mappings":"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","file":"static/js/main.bb8ef989.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Calculator.5412703c.png\";","module.exports = __webpack_public_path__ + \"static/media/Chrome.b234fa5e.png\";","module.exports = __webpack_public_path__ + \"static/media/Drawing.0def2931.png\";","module.exports = __webpack_public_path__ + \"static/media/Finder.35af0dc5.png\";","module.exports = __webpack_public_path__ + \"static/media/Launchpad.b6471dc4.png\";","module.exports = __webpack_public_path__ + \"static/media/PrefApp.b6a1face.png\";","module.exports = __webpack_public_path__ + \"static/media/Terminal.bc2c9be7.png\";","import ReactDOM from \"react-dom\";\nimport React, {\n  useState,\n  useCallback,\n  useMemo,\n  useEffect,\n  CSSProperties,\n} from \"react\";\n\ntype Props = {\n  children: React.ReactChild;\n  closeModal: () => void;\n  onDrag: (T: any) => void;\n  onDragEnd: () => void;\n  data: { width: number; height: number; id: string; moveId: string };\n};\n\nconst Modal = React.memo(\n  ({ children, closeModal, onDrag, onDragEnd, data }: Props) => {\n    const domEl = document.getElementById(\"main-view\") as HTMLDivElement;\n    if (!domEl) return null;\n    const dragEl = document.getElementById(data.id) as HTMLDivElement;\n    const moveEl = document.getElementById(data.moveId) as HTMLDivElement;\n    const localPosition = localStorage.getItem(data.id) || null;\n    const initPosition = localPosition\n      ? JSON.parse(localPosition)\n      : {\n          x: data.width === -1 ? 0 : (window.innerWidth - data.width) / 2,\n          y: data.height === -1 ? 0 : (window.innerHeight - data.height) / 2,\n        };\n    const [state, setState] = useState({\n      isDragging: false,\n      origin: { x: 0, y: 0 },\n      position: initPosition,\n    });\n\n    const handleMouseDown = useCallback(({ clientX, clientY }) => {\n      setState((state) => ({\n        ...state,\n        isDragging: true,\n        origin: {\n          x: clientX - state.position.x,\n          y: clientY - state.position.y,\n        },\n      }));\n    }, []);\n\n    const handleMouseMove = useCallback(\n      ({ clientX, clientY, target }) => {\n        if (!state.isDragging || (moveEl && target !== moveEl)) return;\n        let x = clientX - state.origin.x;\n        let y = clientY - state.origin.y;\n        if (x <= 0) {\n          x = 0;\n        } else if (x > window.innerWidth - dragEl.offsetWidth) {\n          x = window.innerWidth - dragEl.offsetWidth;\n        }\n        if (y <= 0) {\n          y = 0;\n        } else if (y > window.innerHeight - dragEl.offsetHeight) {\n          y = window.innerHeight - dragEl.offsetHeight;\n        }\n        const newPosition = { x, y };\n        setState((state) => ({\n          ...state,\n          position: newPosition,\n        }));\n        onDrag({ newPosition, domEl });\n      },\n      [state.isDragging, state.origin, moveEl, dragEl, onDrag, domEl]\n    );\n\n    const handleMouseUp = useCallback(() => {\n      if (state.isDragging) {\n        setState((state) => ({\n          ...state,\n          isDragging: false,\n        }));\n\n        onDragEnd();\n      }\n    }, [state.isDragging, onDragEnd]);\n\n    useEffect(() => {\n      if (!domEl) return;\n      domEl.addEventListener(\"mousemove\", handleMouseMove);\n      domEl.addEventListener(\"mouseup\", handleMouseUp);\n      return () => {\n        domEl.removeEventListener(\"mousemove\", handleMouseMove);\n        domEl.removeEventListener(\"mouseup\", handleMouseUp);\n        localStorage.setItem(data.id, JSON.stringify(state.position));\n      };\n    }, [domEl, handleMouseMove, handleMouseUp, data.id, state.position]);\n\n    const styles = useMemo(\n      () => ({\n        left: `${state.position.x}px`,\n        top: `${state.position.y}px`,\n        zIndex: state.isDragging ? 2 : 1,\n        position: \"absolute\",\n      }),\n      [state.isDragging, state.position]\n    );\n\n    return ReactDOM.createPortal(\n      <div\n        style={styles as CSSProperties}\n        onMouseDown={handleMouseDown}\n        id={data.id}\n      >\n        {children}\n      </div>,\n      domEl\n    );\n  }\n);\n\nexport default Modal;\n","import React, { useState } from \"react\";\n\nimport Modal from \"./Modal\";\n\n// Modal组件最基础的两个事件，show/hide\nexport const useModal = () => {\n  const [isVisible, setIsVisible] = useState(false);\n\n  const show = () => setIsVisible(true);\n  const hide = () => setIsVisible(false);\n\n  const RenderModal = ({\n    children,\n    data,\n  }: {\n    children: React.ReactChild;\n    data: { width: number; height: number; id: string; moveId: string };\n  }) => (\n    <React.Fragment>\n      {isVisible && (\n        <Modal\n          data={data}\n          closeModal={hide}\n          onDrag={() => console.log(\"onDrag\")}\n          onDragEnd={() => console.log(\"onDragEnd\")}\n        >\n          {children}\n        </Modal>\n      )}\n    </React.Fragment>\n  );\n\n  return {\n    show,\n    hide,\n    RenderModal,\n  };\n};\n","import React, { CSSProperties, RefObject } from \"react\";\nimport \"./index.scss\";\n\nconst scriptElem = document.createElement(\"script\");\nscriptElem.src = \"//at.alicdn.com/t/font_1848517_57zxvyvnou4.js\";\ndocument.body.appendChild(scriptElem);\n\ninterface PropsTypes {\n  className?: string;\n  type: string;\n  style?: object;\n  svgRef?: RefObject<SVGSVGElement>;\n  clickEvent?: (T: any) => void;\n}\n\nexport const Iconfont = ({\n  className,\n  type,\n  style,\n  svgRef,\n  clickEvent,\n}: PropsTypes) => {\n  return (\n    <svg\n      ref={svgRef}\n      className={className ? \"icon-font \" + className : \"icon-font\"}\n      aria-hidden=\"true\"\n      style={style as CSSProperties}\n      onClick={clickEvent}\n    >\n      <use xlinkHref={`#${type}`} />\n    </svg>\n  );\n};\n","import React, { useContext, useState, useEffect, CSSProperties } from \"react\";\nimport { useModal } from \"../modal/UseModal\";\nimport { FooterContext } from \"../footer/Footer\";\nimport {\n  View,\n  Radio,\n  TitleBar,\n  Text,\n  ListView,\n  ListViewRow,\n} from \"react-desktop/macOs\";\nimport \"./index.scss\";\nimport { Iconfont } from \"../iconfont\";\n/// <reference path=\"react-desktop.d.ts\" />\n\nexport const Setting = React.memo(() => {\n  const { show, hide, RenderModal } = useModal();\n  const positionMap = [\"bottom\", \"top\", \"left\", \"right\"];\n  const setListMap = [{ title: \"通用\" }];\n  const [\n    isSettingShow,\n    setSettingShow,\n    position,\n    setPosition,\n    length,\n    setLength,\n  ] = useContext(FooterContext);\n  const optionsMap = [{ title: \"图标默认大小\", value: length }];\n  const [selected, setTitle] = useState(\"通用\");\n  useEffect(isSettingShow ? show : hide, [isSettingShow]);\n  return (\n    <RenderModal\n      data={{\n        width: 684,\n        height: 466,\n        id: \"SettingView\",\n        moveId: \"SettingMove\",\n      }}\n    >\n      <React.Fragment>\n        <TitleBar\n          id=\"SettingMove\"\n          controls\n          inset\n          isFullscreen={false}\n          onCloseClick={() => {\n            hide();\n            setSettingShow(!isSettingShow);\n          }}\n          onMinimizeClick={() => {\n            hide();\n            setSettingShow(!isSettingShow);\n          }}\n          onMaximizeClick={show}\n        ></TitleBar>\n        <div className=\"mainSet\">\n          <View className=\"leftSet\">\n            <ListView>\n              {setListMap.map((item, index) => {\n                return (\n                  <ListViewRow\n                    key={item.title + index}\n                    onClick={() => setTitle(item.title)}\n                    background={selected === item.title ? \"#bfbfbf\" : null}\n                    padding=\"11px 20px\"\n                  >\n                    <Iconfont\n                      type=\"icon-ios-home\"\n                      style={{\n                        marginRight: \"6px\",\n                      }}\n                    />\n                    <Text color=\"#414141\" size=\"14\" bold>\n                      {item.title}\n                    </Text>\n                  </ListViewRow>\n                );\n              })}\n            </ListView>\n          </View>\n          <View className=\"rightSet\">\n            <Text bold marginBottom=\"10px\" size=\"20\">\n              {selected}\n            </Text>\n            <div className=\"divide\"></div>\n            {optionsMap.map((item, index) => {\n              return (\n                <div className=\"options\" key={index + item.value}>\n                  <Text bold marginBottom=\"10px\">\n                    {item.title}\n                  </Text>\n                  <input\n                    min=\"25\"\n                    max=\"128\"\n                    type=\"range\"\n                    value={length}\n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                      setLength({\n                        name: \"change\",\n                        length: e.target.value,\n                      });\n                    }}\n                  />\n                  <span>{length}</span>\n                </div>\n              );\n            })}\n\n            <Text bold>Dock 所在屏幕位置</Text>\n            <View>\n              {positionMap.map((item, index) => {\n                return (\n                  <div\n                    style={{ paddingRight: 24 } as CSSProperties}\n                    key={index + item}\n                  >\n                    <Radio\n                      label={item}\n                      name={item}\n                      onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                        setPosition({\n                          name: \"change\",\n                          position: e.target.value,\n                        });\n                      }}\n                      defaultValue={item}\n                      defaultChecked={item === position}\n                    ></Radio>\n                  </div>\n                );\n              })}\n            </View>\n          </View>\n        </div>\n      </React.Fragment>\n    </RenderModal>\n  );\n});\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport \"./index.scss\";\n\nconst Calculate = () => {\n  const keys: Array<string> = [\n    \"C\",\n    \"+/-\",\n    \"%\",\n    \"÷\",\n    \"7\",\n    \"8\",\n    \"9\",\n    \"×\",\n    \"4\",\n    \"5\",\n    \"6\",\n    \"-\",\n    \"1\",\n    \"2\",\n    \"3\",\n    \"+\",\n    \"0\",\n    \".\",\n    \"=\",\n  ];\n  const [N1N2, setN1OrN2] = useState({ n1: \"\", n2: \"\" });\n  const [operator, setOperator] = useState(\"\");\n  const [result, setResult] = useState(\"0\");\n\n  const getNumber = useCallback(\n    (name: \"n1\" | \"n2\", text: string): void => {\n      const getN1N2 = {\n        n1: name === \"n1\" ? N1N2[name] + text : N1N2.n1,\n        n2: name === \"n2\" ? N1N2[name] + text : N1N2.n2,\n      };\n      setN1OrN2(getN1N2);\n      setResult(\n        getN1N2[name].length > 6\n          ? removeZero(parseFloat(getN1N2[name]).toPrecision(6))\n          : getN1N2[name]\n      );\n    },\n    [N1N2]\n  );\n  const removeZero = (text: string) => {\n    text = /\\.\\d+?0+$/g.test(text) ? text.replace(/0+$/g, \"\") : text;\n    return text\n      .replace(/\\.0+$/g, \"\")\n      .replace(/\\.0+e/, \"e\")\n      .replace(/0+e/, \"e\")\n      .replace(/\\.$/, \"\");\n  };\n  const getResult = useCallback(\n    (n1: string, n2: string, operator: string): string => {\n      let numberN1: number = parseFloat(n1);\n      let numberN2: number = parseFloat(n2);\n      let result1: number = parseFloat(result);\n      if (operator === \"+\") {\n        return (numberN1 + numberN2).toPrecision(6);\n      } else if (operator === \"-\") {\n        return (numberN1 - numberN2).toPrecision(6);\n      } else if (operator === \"×\") {\n        return (numberN1 * numberN2).toPrecision(6);\n      } else if (operator === \"÷\") {\n        if (numberN2 === 0) {\n          return \"不是数字\";\n        }\n        return (numberN1 / numberN2).toPrecision(6);\n      } else if (operator === \"+/-\") {\n        return (-(result1 || numberN1) || 0).toPrecision(6);\n      } else if (operator === \"%\") {\n        return ((result1 || numberN1) / 100 || 0).toPrecision(6);\n      }\n      return result;\n    },\n    [result]\n  );\n\n  const clickButton = useCallback(\n    (event) => {\n      if (event.target instanceof HTMLButtonElement) {\n        let buttonText = event.target.textContent;\n        if (\"0123456789.\".indexOf(buttonText) >= 0) {\n          operator ? getNumber(\"n2\", buttonText) : getNumber(\"n1\", buttonText);\n        } else if (\"+-×÷\".indexOf(buttonText) >= 0) {\n          setN1OrN2({ n1: N1N2.n1 ? N1N2.n1 : result, n2: N1N2.n2 });\n          setOperator(buttonText);\n        } else if (\"=\".indexOf(buttonText) >= 0) {\n          if (N1N2.n1 && N1N2.n2) {\n            setResult(removeZero(getResult(N1N2.n1, N1N2.n2, operator)));\n            setN1OrN2({ n1: \"\", n2: \"\" });\n            setOperator(\"\");\n          }\n        } else if (buttonText === \"C\") {\n          setResult(\"0\");\n          setN1OrN2({ n1: \"\", n2: \"\" });\n          setOperator(\"\");\n        } else if (\"%'+/-'\".indexOf(buttonText) >= 0) {\n          if (N1N2.n1 || result) {\n            setResult(removeZero(getResult(N1N2.n1, N1N2.n2, buttonText)));\n          }\n        }\n      }\n    },\n    [operator, N1N2, result, getNumber, getResult]\n  );\n  useEffect(() => setResult(result), [result]);\n\n  return (\n    <div className=\"calculator-wrapper\">\n      <div className=\"output-wrapper\">\n        <div className=\"output\">\n          <span>{result}</span>\n        </div>\n      </div>\n      <div className=\"row\" onClick={(e) => clickButton(e)}>\n        {keys.map((text, index) => {\n          return (\n            <button\n              className={\n                [0, 1, 2].includes(index)\n                  ? \"dark button text-\"\n                  : [3, 7, 11, 15, 18].includes(index)\n                  ? \"orange button text-\"\n                  : \"button text-\" + text\n              }\n              key={index}\n            >\n              {text}\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default Calculate;\n","import React, { useContext, useEffect } from \"react\";\nimport { useModal } from \"../modal/UseModal\";\nimport { FooterContext } from \"../footer/Footer\";\nimport { TitleBar } from \"react-desktop/macOs\";\nimport Calculate from \"./Calculator\";\nimport \"./index.scss\";\n/// <reference path=\"react-desktop.d.ts\" />\n\nexport const Calculator = React.memo(() => {\n  const { show, hide, RenderModal } = useModal();\n  const [isCalculatorShow, setCalculatorShow] = useContext(FooterContext);\n  useEffect(isCalculatorShow ? show : hide, [isCalculatorShow]);\n  return (\n    <RenderModal\n      data={{\n        width: 410,\n        height: 560,\n        id: \"calculatorView\",\n        moveId: \"calculatorMove\",\n      }}\n    >\n      <React.Fragment>\n        <TitleBar\n          id=\"calculatorMove\"\n          transparent\n          controls\n          isFullscreen={false}\n          onCloseClick={() => {\n            hide();\n            setCalculatorShow(!isCalculatorShow);\n          }}\n          onMinimizeClick={() => {\n            hide();\n            setCalculatorShow(!isCalculatorShow);\n          }}\n          onMaximizeClick={show}\n        ></TitleBar>\n        <Calculate />\n      </React.Fragment>\n    </RenderModal>\n  );\n});\n","import React, {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n  CSSProperties,\n} from \"react\";\nimport { Iconfont } from \"../iconfont\";\nimport { CSSTransition } from \"react-transition-group\";\nimport { useDialog } from \"../dialog/index\";\n\ninterface CanvasProps {\n  width: number;\n  height: number;\n}\n\ntype Coordinate = {\n  x: number;\n  y: number;\n};\n\ninterface ClearRectOptions {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\nconst Canvas = ({ width, height }: CanvasProps) => {\n  const colorMap = [\"black\", \"red\", \"green\", \"blue\"];\n  const optionsMap = [\n    \"canvas_save\",\n    \"canvas_clear\",\n    \"turn_left_flat\",\n    \"turn_right_flat\",\n  ];\n  const toolsMap = [\"canvas_paint\", \"canvas_eraser\"];\n\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const backRef = useRef<SVGSVGElement>(null);\n  const goRef = useRef<SVGSVGElement>(null);\n  const [strokeStyle, setStrokeStyle] = useState(\"black\");\n  const [lineWidth, setLineWidth] = useState(5);\n  const [eraserEnabled, setEraserEnabled] = useState(false);\n  const [isPainting, setIsPainting] = useState(false);\n  const [mousePosition, setMousePosition] = useState<Coordinate | undefined>(\n    undefined\n  );\n  const [step, setStep] = useState(-1);\n  const [canvasHistory, setCanvasHistory] = useState<string[]>([]);\n\n  const getCoordinates = (event: MouseEvent): Coordinate | undefined => {\n    if (!canvasRef.current) {\n      return;\n    }\n    return {\n      x: event.offsetX,\n      y: event.offsetY,\n    };\n  };\n\n  const saveFragment = useCallback(() => {\n    setStep(step + 1);\n    if (!canvasRef.current) {\n      return;\n    }\n    const canvas: HTMLCanvasElement = canvasRef.current;\n    canvasHistory.push(canvas.toDataURL());\n    setCanvasHistory(canvasHistory);\n\n    if (!backRef.current || !goRef.current) {\n      return;\n    }\n    const back: SVGSVGElement = backRef.current;\n    const go: SVGSVGElement = goRef.current;\n    back.classList.add(\"active\");\n    go.classList.remove(\"active\");\n  }, [step, canvasHistory]);\n\n  const startPaint = useCallback((event: MouseEvent) => {\n    const coordinates = getCoordinates(event);\n    if (coordinates) {\n      setMousePosition(coordinates);\n      setIsPainting(true);\n    }\n  }, []);\n\n  const drawLine = useCallback(\n    (originalMousePosition: Coordinate, newMousePosition: Coordinate) => {\n      if (!canvasRef.current) {\n        return;\n      }\n      const canvas: HTMLCanvasElement = canvasRef.current;\n      const context = canvas.getContext(\"2d\");\n      if (context) {\n        context.strokeStyle = strokeStyle;\n        context.lineJoin = \"round\";\n        context.lineWidth = lineWidth;\n        context.beginPath();\n        context.moveTo(originalMousePosition.x, originalMousePosition.y);\n        context.lineTo(newMousePosition.x, newMousePosition.y);\n        context.closePath();\n        context.stroke();\n      }\n    },\n    [lineWidth, strokeStyle]\n  );\n\n  const clearRect = useCallback(({ x, y, width, height }: ClearRectOptions) => {\n    if (!canvasRef.current) {\n      return;\n    }\n    const canvas: HTMLCanvasElement = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n    if (context) {\n      context.clearRect(x, y, width, height);\n    }\n  }, []);\n\n  const paint = useCallback(\n    (event: MouseEvent) => {\n      if (isPainting) {\n        const newMousePosition = getCoordinates(event);\n        if (mousePosition && newMousePosition) {\n          if (eraserEnabled) {\n            clearRect({\n              x: newMousePosition.x - lineWidth / 2,\n              y: newMousePosition.y - lineWidth / 2,\n              width: lineWidth,\n              height: lineWidth,\n            });\n          } else {\n            drawLine(mousePosition, newMousePosition);\n            setMousePosition(newMousePosition);\n          }\n        }\n      }\n    },\n    [isPainting, eraserEnabled, mousePosition, lineWidth, drawLine, clearRect]\n  );\n\n  const exitPaint = useCallback(() => {\n    setIsPainting(false);\n    setMousePosition(undefined);\n    saveFragment();\n  }, [saveFragment]);\n\n  const leaveCanvas = useCallback(() => {\n    setIsPainting(false);\n    setMousePosition(undefined);\n  }, []);\n\n  useEffect(() => {\n    if (!canvasRef.current) {\n      return;\n    }\n    const canvas: HTMLCanvasElement = canvasRef.current;\n    canvas.addEventListener(\"mousedown\", startPaint);\n    canvas.addEventListener(\"mousemove\", paint);\n    canvas.addEventListener(\"mouseup\", exitPaint);\n    canvas.addEventListener(\"mouseleave\", leaveCanvas);\n    return () => {\n      canvas.removeEventListener(\"mousedown\", startPaint);\n      canvas.removeEventListener(\"mousemove\", paint);\n      canvas.removeEventListener(\"mouseup\", exitPaint);\n      canvas.removeEventListener(\"mouseleave\", leaveCanvas);\n    };\n  }, [startPaint, paint, exitPaint, leaveCanvas]);\n\n  const [isToolboxShow, setToolboxShow] = useState(true);\n  const toolboxShowClick = useCallback(\n    (e) => {\n      setToolboxShow(!isToolboxShow);\n    },\n    [isToolboxShow]\n  );\n\n  const onToolsClick = useCallback(([e, toolName]) => {\n    const el = e.currentTarget;\n    if (el.classList[1]) return;\n    toolName === \"canvas_eraser\"\n      ? setEraserEnabled(true)\n      : setEraserEnabled(false);\n    el.classList.add(\"active\");\n    el.parentNode.childNodes.forEach((item: HTMLLIElement) => {\n      if (!item.matches(\"svg\") || item === el) return;\n      item.classList.remove(\"active\");\n    });\n  }, []);\n\n  const onSizesChange = useCallback((e) => {\n    setLineWidth(e.target.value);\n  }, []);\n\n  const onColorsClick = useCallback(([e, selector, color]) => {\n    const el = e.target;\n    if (el.className.includes(\"active\")) return;\n    setStrokeStyle(color);\n    el.classList.add(\"active\");\n    el.parentNode.childNodes.forEach((item: HTMLLIElement) => {\n      if (!item.matches(selector) || item === el) return;\n      item.classList.remove(\"active\");\n    });\n  }, []);\n\n  const onColorsChange = useCallback((e) => {\n    setStrokeStyle(e.target.value);\n  }, []);\n\n  const { showDialog, hideDialog, RenderDialog } = useDialog();\n  const [isClearDialogShow, setClearDialogShow] = useState(false);\n  useEffect(isClearDialogShow ? showDialog : hideDialog, [isClearDialogShow]);\n\n  const saveCanvas = useCallback(() => {\n    if (!canvasRef.current) {\n      return;\n    }\n    const canvas: HTMLCanvasElement = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n    if (context) {\n      const compositeOperation = context.globalCompositeOperation;\n      context.globalCompositeOperation = \"destination-over\";\n      context.fillStyle = \"#fff\";\n      context.fillRect(0, 0, width, height);\n      const imageData = canvas.toDataURL(\"image/png\");\n      context.putImageData(context.getImageData(0, 0, width, height), 0, 0);\n      context.globalCompositeOperation = compositeOperation;\n      const a = document.createElement(\"a\");\n      document.body.appendChild(a);\n      a.href = imageData;\n      a.download = \"myPaint\";\n      a.target = \"_blank\";\n      a.click();\n    }\n  }, [width, height]);\n\n  const changeCanvas = useCallback(\n    (type) => {\n      if (!canvasRef.current || !backRef.current || !goRef.current) {\n        return;\n      }\n      const canvas: HTMLCanvasElement = canvasRef.current;\n      const context = canvas.getContext(\"2d\");\n      const back: SVGSVGElement = backRef.current;\n      const go: SVGSVGElement = goRef.current;\n      if (context) {\n        let currentStep = -1;\n        if (type === \"back\" && step >= 0) {\n          currentStep = step - 1;\n          go.classList.add(\"active\");\n          if (currentStep < 0) {\n            back.classList.remove(\"active\");\n          }\n        } else if (type === \"go\" && step < canvasHistory.length - 1) {\n          currentStep = step + 1;\n          back.classList.add(\"active\");\n          if (currentStep === canvasHistory.length - 1) {\n            go.classList.remove(\"active\");\n          }\n        } else {\n          return;\n        }\n        context.clearRect(0, 0, width, height);\n        const canvasPic = new Image();\n        canvasPic.src = canvasHistory[currentStep];\n        canvasPic.addEventListener(\"load\", () => {\n          context.drawImage(canvasPic, 0, 0);\n        });\n        setStep(currentStep);\n      }\n    },\n    [canvasHistory, step, width, height]\n  );\n\n  const onOptionsClick = useCallback(\n    ([e, toolName]) => {\n      const el = e.currentTarget;\n      switch (toolName) {\n        case \"canvas_clear\":\n          setClearDialogShow(true);\n          break;\n        case \"canvas_save\":\n          saveCanvas();\n          break;\n        case \"turn_left_flat\":\n          changeCanvas(\"back\");\n          break;\n        case \"turn_right_flat\":\n          changeCanvas(\"go\");\n          break;\n      }\n    },\n    [saveCanvas, changeCanvas]\n  );\n\n  const closeClearDialog = useCallback(\n    (e) => {\n      setClearDialogShow(false);\n    },\n    [setClearDialogShow]\n  );\n\n  const checkClearDialog = useCallback(\n    (e) => {\n      clearRect({\n        x: 0,\n        y: 0,\n        width,\n        height,\n      });\n      setCanvasHistory([]);\n      setStep(-1);\n      closeClearDialog(e);\n      if (!backRef.current || !goRef.current) {\n        return;\n      }\n      const back: SVGSVGElement = backRef.current;\n      const go: SVGSVGElement = goRef.current;\n      back.classList.remove(\"active\");\n      go.classList.remove(\"active\");\n    },\n    [closeClearDialog, clearRect, width, height]\n  );\n\n  return (\n    <React.Fragment>\n      <canvas id=\"canvas\" ref={canvasRef} height={height} width={width} />\n      <div\n        id=\"toolbox-show\"\n        style={\n          {\n            borderRadius: isToolboxShow ? null : 5,\n          } as CSSProperties\n        }\n      >\n        <Iconfont\n          type={isToolboxShow ? \"icon-upward_flat\" : \"icon-downward_flat\"}\n          style={{\n            width: \"100%\",\n            fontSize: 32,\n          }}\n          clickEvent={toolboxShowClick}\n        />\n      </div>\n      <CSSTransition\n        in={isToolboxShow} //用于判断是否出现的状态\n        timeout={300} //动画持续时间\n        classNames=\"toolbox\" //className值，防止重复\n        unmountOnExit\n      >\n        <div id=\"toolbox\">\n          <span>Options</span>\n          <div className=\"options\">\n            {optionsMap.map((option, index) => {\n              return (\n                <Iconfont\n                  svgRef={\n                    option === \"turn_right_flat\"\n                      ? goRef\n                      : option === \"turn_left_flat\"\n                      ? backRef\n                      : undefined\n                  }\n                  key={index + option}\n                  className={option}\n                  type={\"icon-\" + option}\n                  style={{ fontSize: 50 }}\n                  clickEvent={(e) => onOptionsClick([e, option])}\n                />\n              );\n            })}\n          </div>\n          <span>Toolbox</span>\n          <div className=\"tools\">\n            {toolsMap.map((tool, index) => {\n              return (\n                <Iconfont\n                  key={index + tool}\n                  className={\n                    tool === \"canvas_eraser\"\n                      ? eraserEnabled\n                        ? \"active\"\n                        : \"\"\n                      : !eraserEnabled\n                      ? \"active\"\n                      : \"\"\n                  }\n                  type={\"icon-\" + tool}\n                  style={{ fontSize: 50 }}\n                  clickEvent={(e) => onToolsClick([e, tool])}\n                />\n              );\n            })}\n          </div>\n          <div className=\"sizes\">\n            <input\n              style={\n                {\n                  backgroundColor: eraserEnabled ? \"#ebeff4\" : strokeStyle,\n                } as CSSProperties\n              }\n              type=\"range\"\n              id=\"range\"\n              name=\"range\"\n              min=\"1\"\n              max=\"20\"\n              value={lineWidth}\n              onChange={onSizesChange}\n            />\n          </div>\n          <ol className=\"colors\">\n            {colorMap.map((color, index) => {\n              return (\n                <li\n                  className={color === strokeStyle ? color + \" active\" : color}\n                  key={index + color}\n                  onClick={(e) => onColorsClick([e, \"li\", color])}\n                ></li>\n              );\n            })}\n            <input\n              type=\"color\"\n              value={strokeStyle}\n              onChange={onColorsChange}\n              id=\"currentColor\"\n            />\n          </ol>\n        </div>\n      </CSSTransition>\n      <RenderDialog\n        width={300}\n        height={120}\n        id=\"clear-dialog\"\n        title=\"您确定要清空该画布吗？\"\n        message=\"一旦清空将无法撤回。\"\n        imgSrc={\"Drawing.png\"}\n        onCheck={checkClearDialog}\n        onClose={closeClearDialog}\n      ></RenderDialog>\n    </React.Fragment>\n  );\n};\n\nCanvas.defaultProps = {\n  width: window.innerWidth,\n  height: window.innerHeight,\n};\n\nexport default Canvas;\n","import React, { useMemo, useState, CSSProperties } from \"react\";\nimport { Dialog, Button } from \"react-desktop/macOs\";\n/// <reference path=\"react-desktop.d.ts\" />\n\ninterface DialogProps {\n  width: number;\n  height: number;\n  id: string;\n  title?: string;\n  message?: string;\n  imgSrc?: string;\n  onCheck: (T: any) => void;\n  onClose: (T: any) => void;\n}\n\nexport const useDialog = () => {\n  const [isVisible, setIsVisible] = useState(false);\n  const showDialog = () => setIsVisible(true);\n  const hideDialog = () => setIsVisible(false);\n  const RenderDialog = ({\n    width,\n    height,\n    id,\n    title,\n    message,\n    imgSrc,\n    onCheck,\n    onClose,\n  }: DialogProps) => {\n    const styles = useMemo(\n      () => ({\n        width: width,\n        height: height,\n        left: `calc(50vw - ${width / 2}px)`,\n        top: `calc(50vh - ${height}px)`,\n        borderRadius: 4,\n      }),\n      [width, height]\n    );\n\n    const renderIcon = () => {\n      if (!imgSrc) return;\n      return (\n        <img\n          src={require(\"../footer/image/\" + imgSrc)}\n          width=\"52\"\n          height=\"52\"\n          alt='tip'\n        />\n      );\n    };\n    return (\n      <React.Fragment>\n        {isVisible && (\n          <div id={id} style={styles as CSSProperties}>\n            <Dialog\n              title={title}\n              message={message}\n              icon={renderIcon()}\n              buttons={[\n                <Button onClick={onClose}>取消</Button>,\n                <Button color=\"blue\" onClick={onCheck}>\n                  确认\n                </Button>,\n              ]}\n            />\n          </div>\n        )}\n      </React.Fragment>\n    );\n  };\n\n  return {\n    showDialog,\n    hideDialog,\n    RenderDialog,\n  };\n};\n","import React, { useContext, useEffect } from \"react\";\nimport { useModal } from \"../modal/UseModal\";\nimport { FooterContext } from \"../footer/Footer\";\nimport { TitleBar } from \"react-desktop/macOs\";\nimport Canvas from \"./Canvas\";\nimport \"./index.scss\";\n/// <reference path=\"react-desktop.d.ts\" />\n\nexport const Drawing = React.memo(() => {\n  const { show, hide, RenderModal } = useModal();\n  const [isDrawingShow, setDrawingShow] = useContext(FooterContext);\n  useEffect(isDrawingShow ? show : hide, [isDrawingShow]);\n  return (\n    <RenderModal\n      data={{\n        width: 1200,\n        height: 800,\n        id: \"DrawingView\",\n        moveId: \"DrawingMove\",\n      }}\n    >\n      <div className=\"drawing-wrapper\">\n        <TitleBar\n          controls\n          id=\"DrawingMove\"\n          isFullscreen={false}\n          onCloseClick={() => {\n            hide();\n            setDrawingShow(!isDrawingShow);\n          }}\n          onMinimizeClick={() => {\n            hide();\n            setDrawingShow(!isDrawingShow);\n          }}\n          onMaximizeClick={show}\n        ></TitleBar>\n        <Canvas height={768} width={1200} />\n      </div>\n    </RenderModal>\n  );\n});\n","import { Props } from \"./effect\";\n\ninterface PositionAction {\n  name: \"change\";\n  position: \"bottom\" | \"top\" | \"left\" | \"right\";\n}\ninterface PropsAction {\n  name: \"change\";\n  props: Props;\n}\ninterface LengthAction {\n  name: \"change\";\n  length: number;\n}\n\nexport const positionReducer = (state: string, action: PositionAction) => {\n  switch (action.name) {\n    case \"change\":\n      return action.position;\n    default:\n      return state;\n  }\n};\nexport const lengthReducer = (state: number, action: LengthAction) => {\n  switch (action.name) {\n    case \"change\":\n      return action.length * 1;\n    default:\n      return state;\n  }\n};\n","import React, {\n  useState,\n  useRef,\n  useCallback,\n  useEffect,\n  createContext,\n  useReducer,\n  CSSProperties,\n} from \"react\";\nimport \"./index.scss\";\nimport { Setting } from \"../setting/Setting\";\nimport { Calculator } from \"../calculator/index\";\nimport { Drawing } from \"../drawing/index\";\nimport { positionReducer, lengthReducer } from \"./reducer\";\nexport const FooterContext = createContext<any>([]);\n\nconst Footer = React.memo(() => {\n  const [dockList] = useState<string[]>([\n    \"Finder.png\",\n    \"Launchpad.png\",\n    \"PrefApp.png\",\n    \"Chrome.png\",\n    \"Terminal.png\",\n    \"Calculator.png\",\n    \"Drawing.png\",\n  ]);\n  const [position, setPosition] = useReducer(positionReducer, \"bottom\");\n  const [length, setLength] = useReducer(lengthReducer, 76);\n  const [isSettingShow, setSettingShow] = useState(false);\n  const [isCalculatorShow, setCalculatorShow] = useState(false);\n  const [isDrawingShow, setDrawingShow] = useState(false);\n  const [Chrome, setChrome] = useState(\"\" as any);\n  const dockItemClick = (item: string) => {\n    switch (item) {\n      case \"Chrome.png\":\n        if (!Chrome) {\n          const chrome = window.open(\n            \"http://www.google.com/\",\n            \"\",\n            \"width=1000,height=600,left=500,top=300,menubar=no,toolbar=no,status=no,scrollbars=yes\"\n          );\n          setChrome(chrome);\n        } else {\n          Chrome.close();\n          setChrome(\"\");\n        }\n        return;\n      case \"PrefApp.png\":\n        setSettingShow(!isSettingShow);\n        return;\n      case \"Calculator.png\":\n        setCalculatorShow(!isCalculatorShow);\n        return;\n      case \"Drawing.png\":\n        setDrawingShow(!isDrawingShow);\n        return;\n    }\n  };\n\n  const [dockStyle, setDockStyle] = useState({});\n\n  const dockRef = useRef<HTMLDivElement>(null);\n\n  const getOffset = useCallback(\n    (el: HTMLElement, offset: \"top\" | \"left\"): number => {\n      const elOffset = offset === \"top\" ? el.offsetTop : el.offsetLeft;\n      if (el.offsetParent == null) {\n        return elOffset;\n      }\n      return elOffset + getOffset(el.offsetParent as HTMLElement, offset);\n    },\n    []\n  );\n\n  const mousemove = useCallback(\n    ({ clientX, clientY }) => {\n      if (!dockRef.current) {\n        return;\n      }\n      const imgList = dockRef.current.childNodes;\n      let dockBackgroundLength = 0;\n      for (let i = 0; i < imgList.length; i++) {\n        const img = imgList[i] as HTMLImageElement;\n        let x, y;\n        if (position === \"bottom\") {\n          x = img.offsetLeft + length / 2 - clientX;\n          y =\n            img.offsetTop +\n            getOffset(dockRef.current, \"top\") +\n            img.offsetHeight / 2 -\n            clientY;\n        } else if (position === \"right\") {\n          x = img.offsetTop + length / 2 - clientY;\n          y =\n            img.offsetLeft +\n            getOffset(dockRef.current, \"left\") +\n            img.offsetWidth / 2 -\n            clientX;\n        } else {\n          x = img.offsetTop + length / 2 - clientY;\n          y = img.offsetLeft + length / 2 - clientX;\n        }\n        let imgScale = 1 - Math.sqrt(x * x + y * y) / (imgList.length * length);\n        if (imgScale < 0.5) {\n          imgScale = 0.5;\n        }\n        img.width = length * 2 * imgScale;\n        dockBackgroundLength = dockBackgroundLength + img.width;\n      }\n\n      if (position === \"bottom\" || position === \"top\") {\n        setDockStyle({ width: dockBackgroundLength, height: length });\n      } else {\n        setDockStyle({ width: length, height: dockBackgroundLength });\n      }\n    },\n    [position, length, getOffset, setDockStyle]\n  );\n\n  const mouseleave = useCallback(() => {\n    if (!dockRef.current) {\n      return;\n    }\n    if (position === \"bottom\" || position === \"top\") {\n      setDockStyle({\n        width: length * dockList.length,\n        height: length,\n      });\n    } else {\n      setDockStyle({\n        width: length,\n        height: length * dockList.length,\n      });\n    }\n    const imgList = dockRef.current.childNodes;\n    for (let i = 0; i < imgList.length; i++) {\n      const img = imgList[i] as HTMLImageElement;\n      img.width = length;\n    }\n  }, [position, length, dockList.length]);\n\n  useEffect(mouseleave, [mouseleave]);\n\n  useEffect(() => {\n    if (!dockRef.current) {\n      return;\n    }\n    const dockBackground: HTMLDivElement = dockRef.current;\n    dockBackground.addEventListener(\"mousemove\", mousemove);\n    dockBackground.addEventListener(\"mouseleave\", mouseleave);\n    return () => {\n      dockBackground.removeEventListener(\"mousemove\", mousemove);\n      dockBackground.removeEventListener(\"mouseleave\", mouseleave);\n    };\n  }, [mousemove, mouseleave]);\n\n  return (\n    <React.Fragment>\n      <FooterContext.Provider\n        value={[\n          isSettingShow,\n          setSettingShow,\n          position,\n          setPosition,\n          length,\n          setLength,\n        ]}\n      >\n        <Setting />\n      </FooterContext.Provider>\n      <FooterContext.Provider value={[isCalculatorShow, setCalculatorShow]}>\n        <Calculator />\n      </FooterContext.Provider>\n      <FooterContext.Provider value={[isDrawingShow, setDrawingShow]}>\n        <Drawing />\n      </FooterContext.Provider>\n      <footer className={position} id=\"AppFooter\">\n        <div\n          id=\"Docker\"\n          ref={dockRef}\n          className={position}\n          style={dockStyle as CSSProperties}\n        >\n          {dockList.map((item, index) => {\n            return (\n              <img\n                src={require(\"./image/\" + item)}\n                alt={item}\n                key={index + item}\n                onClick={() => dockItemClick(item)}\n              />\n            );\n          })}\n        </div>\n      </footer>\n    </React.Fragment>\n  );\n});\n\nexport default Footer;\n","import React from \"react\";\n\nconst Header = () => {\n  return (\n    <>\n      <header className=\"AppFinder\"></header>\n    </>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport Footer from \"./components/footer/Footer\";\nimport Header from \"./components/header/Header\";\nimport \"./styles/App.scss\";\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <Header />\n      <div id=\"main-view\"></div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.scss\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","var map = {\n\t\"./Calculator.png\": 167,\n\t\"./Chrome.png\": 168,\n\t\"./Drawing.png\": 169,\n\t\"./Finder.png\": 170,\n\t\"./Launchpad.png\": 171,\n\t\"./PrefApp.png\": 172,\n\t\"./Terminal.png\": 173\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 55;"],"sourceRoot":""}